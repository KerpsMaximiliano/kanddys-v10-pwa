<mat-vertical-stepper [linear]="true" #stepper style="min-width: 252px">
  <mat-step
    [label]="
      inputType === 'phone' ? 'Número de teléfono' : 'Correo electrónico'
    "
    [state]="inputType === 'phone' ? 'phone' : 'email'"
    [completed]="phoneNumber.valid || email.valid"
    [editable]="!newUser"
  >
    <form>
      <div *ngIf="inputType === 'phone'">
        <div class="wrapper">
          <ngx-intl-tel-input
            [cssClass]="'custom'"
            [enableAutoCountrySelect]="true"
            [enablePlaceholder]="true"
            [searchCountryFlag]="true"
            [selectFirstCountry]="false"
            [preferredCountries]="preferredCountries"
            [selectedCountryISO]="CountryISO"
            maxLength="13"
            minlength="10"
            [phoneValidation]="true"
            [separateDialCode]="true"
            [customPlaceholder]="'(000) 000-0000'"
            [numberFormat]="PhoneNumberFormat.International"
            [formControl]="phoneNumber"
            tabindex="1"
          ></ngx-intl-tel-input>
        </div>
      </div>
      <div
        *ngIf="inputType === 'email'"
        style="display: flex; flex-direction: column"
      >
        <mat-form-field appearance="outline">
          <mat-label>Correo electrónico</mat-label>
          <input
            type="email"
            matInput
            [formControl]="email"
            placeholder="Ej. email@ejemplo.com"
          />
          <mat-error
            *ngIf="email.hasError('email') && !email.hasError('required')"
          >
            Por favor ingresa un correo electrónico válido
          </mat-error>
          <mat-error *ngIf="email.hasError('required')">
            El correo electrónico es <strong>obligatorio</strong>
          </mat-error>
        </mat-form-field>
      </div>
      <div style="margin-bottom: 8px">
        <button mat-button type="button" (click)="changeInputType()">
          Ingresar con
          {{
            inputType === "email" ? "número de teléfono" : "correo electrónico"
          }}
        </button>
      </div>
      <button
        mat-button
        type="button"
        [disabled]="
          (inputType === 'phone' && phoneNumber.invalid) ||
          (inputType === 'email' && email.invalid)
        "
        (click)="submitPhone()"
      >
        Continuar
      </button>
    </form>
  </mat-step>
  <mat-step *ngIf="(data?.loginType === 'full') && (userStep === 'code')">
    <form [formGroup]="codeStep">
      <ng-template matStepLabel>Notificación de acceso</ng-template>
      <p 
        style="
        width: 80%;
        margin: 0 auto;
        font-size: 12px;
        color: #1D1D1D;
        "
      >
        Un link de acceso ha sido enviado a las coordenadas que indicaste
      </p>
      <!-- <mat-form-field appearance="outline">
        <mat-label>Código</mat-label>
        <input matInput type="password" formControlName="code" required />
        <mat-hint
          >Ingresa el código que llegó a tu
          {{
            inputType === "phone" ? "WhatsApp" : "correo electrónico"
          }}</mat-hint
        >
      </mat-form-field>
      <div style="margin-top: 12px">
        <button mat-button (click)="submitCode()">Ingresar</button>
      </div> -->
    </form>
  </mat-step>
</mat-vertical-stepper>
