<div class="container">

    <app-helper-headerv2
    [mode]="'basic'"
    [mainText]="{
        text: loggin? merchantNumber : ( signUp? 'Crear Usuario' : 'Acceder a Usuario'),
        fontFamily: 'SfProBold',
        fontSize: '21px',
        color: '#FFF'
    }"
    bgColor="#2874AD"
    [returnAble]="loggin || signUp ? true : false"
    (returnEvent)="loggin ? toggleLog() : ( signUp ? toSignUp() : null)"
    ></app-helper-headerv2>

    <div class="input-area">
        <ng-container *ngIf="!signUp ; else elseTemplate">

            <div class="phone-input-wrapper" *ngIf="!loggin">
                
                <div class="wrapper">
                    <ngx-intl-tel-input 
                    [cssClass]="'custom'"
                    [enableAutoCountrySelect]="true" 
                    [enablePlaceholder]="true" 
                    [searchCountryFlag]="true"
                    [selectFirstCountry]="false" 
                    [preferredCountries]="preferredCountries"
                    [selectedCountryISO]="CountryISO" 
                    maxLength="13"
                    minlength="10"
                    [phoneValidation]="true" 
                    [separateDialCode]="true" 
                    [customPlaceholder]="'(000) 000-0000'"
                    [numberFormat]="PhoneNumberFormat.International"
                    [formControl]="phoneNumber"
                    tabindex="1"
                    ></ngx-intl-tel-input> 
                    
                    <button class="confirm" (click)="submitPhone()" [disabled]="(phoneNumber.invalid || phoneNumber.untouched) && !phoneNumber.valid"
                    [ngClass]="{disabled: (phoneNumber.invalid || phoneNumber.untouched) && !phoneNumber.valid}"><i class="fas fa-chevron-right"></i></button>
                </div>
                
                <button class="adiciona" (click)="toSignUp()">CREAR UNA NUEVA CUENTA</button>
            </div>
            
            
            <div class="password-input" *ngIf="loggin">
                
               <input class="pass" type="password" placeholder="Adiciona la Clave" [formControl]="password" name="password" id="password" required>

               <div [hidden]="password.valid || password.pristine" class="invalid-pass"> Por favor introduzca contrase침a valida </div>
               
               <button class="confirm" (click)="signIn()" [disabled]="(password.invalid || password.pristine || password.untouched) && !password.valid"
               [ngClass]="{disabled : (password.invalid || password.pristine || password.untouched) && !password.valid}"><i class="fas fa-chevron-right"></i></button>

               <button class="alternate">PREFIERO RECIBIR UN MENSAJE CON EL CODIGO</button>
            </div>
        </ng-container>
        
    </div>

    <ng-template #elseTemplate>

      <div class="phone-input-wrapper">
         
         <div class="names-area">
            <div class="name">
               <label for="Name" class="names-label">Nombre:</label>
               <input type="text" class="names-input" placeholder="Mi nombre es..." [formControl]="firstName" required>
            </div>

            <div class="last-name">
               <label for="Last name" class="names-label">Apellido:</label>
               <input type="text" class="names-input" placeholder="Mi apellido es..." [formControl]="lastName" required>
            </div>
         </div>

         <label for="Phone number" class="phone-label">Celular que recibe las notificaciones:</label>

         <div style="margin-bottom: 63px;">
            <ngx-intl-tel-input 
            [cssClass]="'custom'"
            [enableAutoCountrySelect]="true" 
            [enablePlaceholder]="true" 
            [searchCountryFlag]="true"
            [selectFirstCountry]="false" 
            [preferredCountries]="preferredCountries"
            [selectedCountryISO]="CountryISO" 
            maxLength="13"
            minlength="10"
            [phoneValidation]="true" 
            [separateDialCode]="true" 
            [customPlaceholder]="'Mi # de WhatsApp es....'"
            [numberFormat]="PhoneNumberFormat.International"
            [formControl]="phoneNumber"
            tabindex="1"
            ></ngx-intl-tel-input> 
         </div>

         <div class="mail-inputs">
            <label for="Email" class="phone-label">Correo Electronico:</label>

            <input type="email" class="email-input" placeholder="miEmail@mail.com" [formControl]="email" >
         </div>

         <label for="Password" class="phone-label">Clave de Acceso:</label>

         <input class="pass" type="password" placeholder="Adiciona la Clave" [formControl]="password" name="password" id="password" placeholder="Escribe..." required>

         <div [hidden]="password.valid || password.pristine" class="invalid-pass"> Por favor introduzca contrase침a valida </div>

         <button class="signUp-btn" (click)="signMeUp()" 
         [ngClass]="{'disabled': password.invalid || password.pristine || phoneNumber.untouched || phoneNumber.pristine || phoneNumber.invalid}"
         [disabled]="password.invalid || password.pristine || phoneNumber.untouched || phoneNumber.pristine || phoneNumber.invalid"
         >
           Registrarme
         </button>

         <p class="clarification">Te llegar치 una confirmaci칩n a tu # de WhatsApp</p>

      </div>

    </ng-template>
    
</div>