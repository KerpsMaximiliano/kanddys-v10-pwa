<div class="container">
  <header>
    <div>

      <div (click)="goBack()">
        <mat-icon class="close-icon">close</mat-icon>
      </div>
      <h3>{{'new-symbol.title' | translate}}</h3>
    </div>
    <mat-icon class="more-icon">more_horiz</mat-icon>
  </header>

  <main>
    <form [formGroup]="postForm">
      <div
        class="textarea-wrapper"
        [ngClass]="{
          'no-shadow':
            postForm.controls['message'].value &&
            postForm.controls['message'].value.length > 0
        }"
      >
        <label for="textarea-label" class="textarea-header"
          >{{'new-symbol.text-title' | translate}}</label
        >

        <textarea
          formControlName="message"
          [placeholder]="'new-symbol.text-placeholder' | translate"
          cols="30"
          rows="10"
          id="textarea-label"
        ></textarea>
      </div>

      <div class="added-slides" *ngIf="postsService.post?.slides?.length > 0">
        <app-qr-content
          [slides]="postsService.post.slides"
          [title]="'Slides visuales'"
          [mode]="'SMALL'"
          [editing]="false"
          [defaultText]="'Incluyes fotos, memes, videos o mÃºsica.'"
          (buttonClicked)="goToMediaUpload()"
        ></app-qr-content>
      </div>

      <div class="optional-stuffs-container">
        <div
          class="optional-stuff"
         
        >
          <h3>{{'new-symbol.chulerias' | translate}}</h3>

          <div class="row"  *ngIf="postsService.post?.slides?.length === 0">
            <span>{{'new-symbol.slides' | translate}}</span>

            <img
              src="https://storage-rewardcharly.sfo2.digitaloceanspaces.com/new-assets/add_button_circle.svg"
              alt="add media"
              class="upload-media"
              (click)="goToMediaUpload()"
            />
          </div>
          <div class="row row-mid">
            <span>{{'new-symbol.long-text' | translate}}</span>

            <img
              src="https://storage-rewardcharly.sfo2.digitaloceanspaces.com/new-assets/add_button_circle.svg"
              alt="add media"
              class="upload-media"
            />
          </div>
          <div class="row row-mid">
            <span>{{'new-symbol.long-link-button' | translate}}</span>

            <img (click)="openButtonLinkDialog()"
              src="https://storage-rewardcharly.sfo2.digitaloceanspaces.com/new-assets/add_button_circle.svg"
              alt="add media"
              class="upload-media"
            />
          </div>
        </div>
      </div>
    </form>

    <!--
      <div class="posts-virtual-content-wrapper">
        <div class="posts-virtual-content-grid">
          <div
            class="media-wrapper"
            *ngFor="let media of postsService.post.slides"
          ></div>
        </div>
        <div class="upload-button">
          <img
            src="https://storage-rewardcharly.sfo2.digitaloceanspaces.com/new-assets/add_button_circle.svg"
            alt=""
          />
        </div>
      </div>
    -->
  </main>

  <footer>
    <button
      class="left"
      style="color: #272727"
      (click)="
        !(
          postForm.controls.message.value?.length ||
          postsService.post.slides?.length
        )
          ? goToPostDetail('DEMO')
          : goToPostDetail('PREVIEW')
      "
    >
      {{(
        !(
          postForm.controls.message.value?.length ||
          postsService.post.slides?.length
        )
          ? 'new-symbol.see-demo'
          : 'new-symbol-preview') | translate
      }}
    </button>
    <button
      class="right"
      *ngIf="
        postForm.controls.message.value?.length ||
        postsService.post.slides?.length
      "
      style="color: #272727"
      (click)="save()"
    >
      {{ 'new-symbol.save' | translate}}
    </button>
  </footer>
</div>
