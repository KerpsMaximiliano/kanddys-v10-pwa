<div class="container">
	<app-helper-headerv2 [mode]="'basic'" [navtext]="item?.images?.length && ''" [returnAble]="true" [whatsapp]="false"
		[shopcart]="false" [bgColor]="isClientView ? '#E9E371' : '#2874AD'" [color]="isClientView ? '#2874AD' : '#FFFFFF'" (returnEvent)="redirect()">
	</app-helper-headerv2>

	<!-- Info que ve el admin (merchant) del producto -->
	<ng-container *ngIf="isOwner">
		<!-- <app-header-info-admin [data]="[{
				text: {
					content: '$147,154 DOP total ingresado',
					color: '#2874AD'
				}
			},
			{
				text: {
					content: '1,457 ventas',
					color: '#2874AD'
				}
			}]"></app-header-info-admin>

		<div class="category">
			<div class="tab-area">
				<div class="tab" [ngClass]="{colored: tapped}" (click)="tapping()">
					<img
						[src]="env + '/expand-categories.svg'"
						alt="Lista para expandir categorías"
						width="18px"
						height="15px"
						class="icon"
					>
					<p class="tab-text" [ngStyle]="{color: tapped? '#E9E371':'#2874AD'}">Categorías</p>
				</div>
			</div>

			<ng-container *ngIf="tapped">
				<div class="tags-area" *ngIf="categories">
					<app-tags-square *ngFor="let item of categories; index as i"
						[tagText]="item.name"
						gains="44 Ventas"
						[reverse]="true"
						color="#2874AD"
						textColor="#2874AD"
						position="left"
					></app-tags-square>
				</div>
			</ng-container>
		</div> -->
	</ng-container>

	<!-- Fin de la info que ve el admin -->

	<div class="item-info" *ngIf="item">
		<div class="description" *ngIf="item.description">
			<h2 class="title-name" *ngIf="item.name && item.images.length && !isClientView">
				{{item.name}}
			</h2>
			<p>{{item.description}}</p>

			<hr *ngIf="!item.images && (item.name || item.pricing)" class="divider">
		</div>

		<div *ngIf="item.name && (!item.images || !item.images.length)">
			<div class="grey-box">
				<h3 class="title">{{item.name}}</h3>
			</div>
		</div>

		<button *ngIf="item.images.length" class="itemImg" (click)="openImageModal(item.images[0])">
			<div [ngStyle]="{ 'background-image': 'url(' + item.images[0] + ')' }"></div>
		</button>

		<!-- <div class="no-description" *ngIf="item.name && !item.description && item.images">
			<h3 class="title">{{item.name}}</h3>
		</div> -->

		<div *ngIf="item.pricing && !isClientView" class="item-price">
			<span class="vale">Vale</span>
			<h4 class="price">${{item.pricing | number}}</h4>
		</div>

		<div class="flex-box" *ngIf="isClientView">
			<h3 class="title">{{ item.name }}</h3>
			<div>
				<p class="gray-label">RD$ {{ item.pricing | number }}</p>
				<p class="gray-label">Ganas 14★</p>
			</div>
		</div>

		<div class="client-submit-area" *ngIf="isClientView">
			<button class="add-to-cart">Adicionar al <span><img src="{{ env }}/carrito_blanco.svg" alt=""></span></button>
			<img src="{{ env }}/bookmark-plus.svg" alt="">
		</div>

		<ng-container *ngIf="item.content?.length">
			<hr class="divider">
			<div class="content">

				<span class="includes">Incluye:</span>

				<ul>
					<li *ngFor="let content of item.content; index as i" class="list-content">
						- {{content}}
					</li>
				</ul>
				<!-- <ng-container *ngFor="let content of item.content; index as i">
					<span class="list-content">- {{content}}</span>
				</ng-container> -->

			</div>
		</ng-container>
	</div>

</div>

<ng-container *ngIf="!isClientView">
	<app-bubble-button [text]="'TIENDA'" [text2]="'VISTA'" [solo]="false" (click)="toggleView()"></app-bubble-button>
	<app-sticky-button [bgColor]="'#2874AD'" [text]="!newMerchant ? 'EMPIEZA A VENDERLO' : 'CUENTA DONDE PAGARAN'"
		mode="fixed"
		(click)="!loggedIn && !newMerchant? goToAuth() : (newMerchant && canCreateBank) ? goToBanksForm() : loggedIn && defaultMerchant ? goToMerchantStore() : null">
	</app-sticky-button>
</ng-container>

<ng-container *ngIf="isClientView">
	<app-bubble-button [mode]="'single'" [icon]="env + '/arrow-left.svg'" (click)="toggleView()"></app-bubble-button>
	<app-sticky-button [text]="'SUBE LA FOTO DE LA COMPRA'"
		[mode]="'disabled'">
	</app-sticky-button>
</ng-container>