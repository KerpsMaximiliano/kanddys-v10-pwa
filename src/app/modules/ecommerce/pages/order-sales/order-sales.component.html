<div class="container">
	<ng-container *ngIf="inSearch">
		<app-helper-headerv2
			[mode]="'center'"
            [returnAble]="true"
            [mainText]="{
                text: 'Salir De La Busqueda',
                pointer: true
            }"
			(click)="searchToggle()"
		></app-helper-headerv2>
 </ng-container> 
	<ng-container *ngIf="inSearch">
		<div class="search-area">
			<input type="text" class="search-bar" placeholder="Buscar.." [(ngModel)]="auxNumbers" />
		</div>
		<div class="orderSection">
			<ng-container *ngFor="let order of orders; index as i">
				<div class="order" *ngIf="order.phone.includes(auxNumbers)">
					<app-item-list [itemListContent]="order" [marginTop]="'0px'"></app-item-list>
				</div>
			</ng-container>
		</div>
	</ng-container>

	<ng-container *ngIf="!inSearch">
		<app-helper-headerv2
        [mainText]="{
            text: 'Ventas',
            fontSize: '21px'
        }"
        [returnAble]="true"
        [search]="{
            active: true
        }"
        [dots]="{
            active: true
        }"
		(searchEvent)="searchToggle()"
		(dotEvent)="openDialog()"
		color="#E9E371"
		bgColor="#2874AD"
		mode="basic"
		(returnEvent)="back()"
		></app-helper-headerv2>
		<div class="page-components-tabs" #elemt
			(mousedown)="startDragging($event, elemt)"
			(mouseup)="stopDragging()"
			(mouseleave)="stopDragging()"
			(mousemove)="moveEvent($event, elemt)"
		>
			<button class="tab" [ngClass]="{'active': activeTag == undefined}" (click)="showAll()">
				Todos
			</button>
			<button 
				class="tab"
				*ngFor="let tag of tags; index as i" 
				[ngClass]="{'active': activeTag === i}"
				(click)="changeTab(i)"
			>
				{{tag.tags.name}}
				<img *ngIf="tag.tags.notify" [src]="env + '/whatsapp-white.svg'" alt="notification">
			</button>
		</div>
		<div class="compradores" *ngIf="activeTag == 0 || activeTag > 0">
			<app-notification-toggle
				[active]="active"
				(click)="toggleNotification()"
			></app-notification-toggle>
		</div>

		<div class="orderSection">
			<ng-container *ngIf="activeTag == undefined">
				<ng-container *ngFor="let order of orders; index as i">
					<div class="order" *ngIf="order.visible">
							<app-item-list
								[itemListContent]="order"
								[marginTop]="'0px'"
							></app-item-list>
					</div>
				</ng-container>
			</ng-container>
			<ng-container *ngIf="activeTag == 0 || activeTag > 0">
				<ng-container *ngFor="let order of orders; index as i">
					<div class="order" *ngIf="order.visible && order.tags.includes(tags[activeTag].tags._id)">
						<app-item-list
							[itemListContent]="order"
							[marginTop]="'0px'"
						></app-item-list>
				</div>
				</ng-container>
			</ng-container>
		</div>
	</ng-container>
</div>

<app-bubble-button
	[position]="'left'"
  [return]="true"
	color="blue"
></app-bubble-button>

<app-bubble-button
	[position]="'right'"
	[icon]="'/upload.svg'"
	color="blue"
></app-bubble-button>

<app-sticky-button
	[text]="'144 / $145,124,147,00 / 85 COMPRADORES'"
	[mode]="'disabled'"
	size="small"
></app-sticky-button>