<div class="main-container">
  <nav>
    <div class="subnav">
      <a 
        class="exit"
        (click)="updatePost()"
      >
        X
      </a>
      <p class="title">üéóÔ∏è Causa de la recaudaci√≥n</p>
    </div>
    <div class="subnav">
      <mat-slide-toggle
        class="toggle"
        [checked] = "active"
        (change) = "active = !active"
      >
      </mat-slide-toggle>
      <img class="icon" title="icon" src="{{env}}/info-icon.svg" />
    </div>
  </nav>
  <div>
    <div *ngIf="!active" class="symbol-warning">
      <p
      *ngIf="postImages?.length === 0 || 
      post?.categories.length === 0 || 
      title.length === 0 || 
      message.length === 0 || 
      ctaText.length === 0; else fullWarning"
      >
        El simbolo de su causa est√° oculto por falta de informaci√≥n
      </p>
      <ng-template #fullWarning>
        <p>El simbolo de su causa est√° oculto</p>
      </ng-template>
    </div>
  </div>
  <!--In the case that data has already been input, these should render-->
  <div class="container">
    <div *ngIf="postImages?.length > 0" class="info-card">
      <p class="card-title">Slides Visuales</p>
      <div class="image-container">
        <img
          alt="imagen"
          *ngFor="let image of postImages"
          class="image"
          src="{{image.media}}"
        />
      </div>
    </div>
    <div
      *ngIf="post?.categories?.length > 0" 
      class="info-card"
      (click)="openCategoriesDialog()"
    >
      <p class="card-title">Categorias donde se exhibe</p>
      <div class="flex">
        <p *ngFor="let category of post?.categories" class="display-text">{{category.name}}</p>
      </div>
    </div>
    <div *ngIf="title?.length > 0" class="info-card">
      <p class="card-title">Texto principal y centralizado</p>
      <input aria-label="titulo" [(ngModel)]="title" type="text" class="display-text" />
    </div>
    <div *ngIf="message?.length > 0" class="info-card">
      <p class="card-title">Texto m√°s largo</p>
      <input 
        aria-label="descripcion"
        [(ngModel)]="message"
        type="text"
        class="display-text"
      />
    </div>
    <div *ngIf="ctaText?.length > 0" class="info-card">
      <p class="card-title">Nombre del bot√≥n</p>
      <input 
        aria-label="nombre-boton"
        [(ngModel)]="ctaText"
        type="text"
        class="display-text"
      />
    </div>
  </div>
  <!--In the case that data is yet to be added -->
  <p 
    *ngIf="postImages?.length === 0 || 
    post?.categories.length === 0 || 
    title.length === 0 || 
    message.length === 0 || 
    ctaText?.length === 0" 
    class="explanatory"
  >
    Exhibe tu causa comunitaria para que los compradores te apoyen.
  </p>
  <span
    *ngIf="postImages?.length === 0 || 
    post?.categories.length === 0 || 
    title.length === 0 || 
    message.length === 0 || 
    ctaText?.length === 0" 
    class="long-span"
  >
  </span>
  <div class="container">
    <p 
      *ngIf="postImages?.length === 0 || 
      post?.categories.length === 0 || 
      title.length === 0 || 
      message.length === 0 || 
      ctaText.length === 0" 
      class="data-title"
    >
      DATOS POR LLENAR
    </p>
      <div *ngIf="postImages?.length === 0 || !postImages" class="input-card">
        <p class="input-text">Imagen</p>
        <button class="input-button">
          <img src="../../../../../assets/icons/add-button.svg" alt="add item" />
        </button>
      </div>
      <div *ngIf="post?.categories.length === 0 || !post.categories" class="input-card">
        <p class="input-text">Categorias donde se exhibe</p>
        <button class="input-button">
          <img 
            src="../../../../../assets/icons/add-button.svg" 
            alt="add item" 
            (click)="openCategoriesDialog()"
          />
        </button>
      </div>
      <div *ngIf="title.length === 0 || !title" class="input-card">
        <p class="input-text">Texto principal y centralizado</p>
        <button class="input-button">
          <img
            src="../../../../../assets/icons/add-button.svg"
            alt="add item"
            (click)="openFormForField('title')"
          />
        </button>
      </div>
      <div *ngIf="message.length === 0 || !message" class="input-card">
        <p class="input-text">Texto m√°s largo</p>
        <button class="input-button">
          <img 
            src="../../../../../assets/icons/add-button.svg"
            alt="add item"
            (click)="openFormForField('message')"
          />
        </button>
      </div>
    <div *ngIf="ctaText?.length === 0 || !ctaText" class="input-card">
      <p class="input-text">Nombre del bot√≥n</p>
      <button class="input-button">
        <img
          src="../../../../../assets/icons/add-button.svg"
          alt="add item"
          (click)="openFormForField('ctaText')"
        />
      </button>
    </div>
  </div>
  <div class="preview">
    <a>Preview</a>
  </div>
</div>