<div class="container">
  <app-helper-headerv2
    *ngIf="item?.status === 'active'"
    [mode]="'basic'"
    [dots]="{
      active: true
    }"
    [returnAble]="true"
    bgColor="#2874AD"
    color="#FFFFFF"
    (returnEvent)="redirect()"
    (dotEvent)="openDialog()"
  ></app-helper-headerv2>

  <app-helper-headerv2
    *ngIf="item?.status !== 'active'"
    mode="center"
    [mainText]="{
      text: 'INACTIVO (NO EXPUESTO)',
      fontFamily: 'RobotoMedium',
      fontSize: '17px'
    }"
    [icons]="[
      {
        src: '/closed-eye.svg',
        color:
          'brightness(0) saturate(100%) invert(100%) sepia(0%) saturate(0%) hue-rotate(287deg) brightness(108%) contrast(104%)',
        callback: toggleActivateItem
      }
    ]"
    flexDirection="flex-end"
    [returnAble]="true"
    rmargin="46px"
    bgColor="#B17608"
    color="#FFFFFF"
    (returnEvent)="redirect()"
  ></app-helper-headerv2>

  <div class="item-info" *ngIf="item">
    <div class="fullScreenSwiper" *ngIf="item.images?.length">
      <button class="swiper-button">
        <img
          [src]="env + '/upload.svg'"
          width="15"
          height="19"
          (click)="openShareDialog()"
          style="filter: invert(35%) sepia(72%) saturate(451%) hue-rotate(163deg) brightness(80%) contrast(104%);"
        />
      </button>
      <div class="shadowWrapper">
        <swiper [config]="swiperConfig">
          <div
            *ngFor="let item of item.images; let i = index"
            (click)="openImageModal(item)"
            class="item"
            [ngStyle]="{ 'background-image': 'url(' + item + ')' }"
          ></div>
        </swiper>
      </div>
    </div>
    <div class="flex-box" style="color: #4f4f4f; margin-top: 32px">
      <h1 class="small-title">{{ item.name }}</h1>
      <span class="small-price">${{ item.pricing | number }}</span>
    </div>

    <section>
      <p class="item-detail">Sobre {{ item.name }}</p>

      <div class="grid-details">
        <div class="info-card">
          <h2 class="amount quantity">
            {{
              totalByItem && totalByItem?.itemInOrder.toLocaleString("es-MX")
            }}
          </h2>

          <h2 class="amount">FACTURADOS</h2>
        </div>

        <div class="info-card">
          <h2 class="amount quantity">
            {{ totalByItem && totalByItem?.total.toLocaleString("es-MX") }}
          </h2>

          <h2 class="amount">EN INGRESOS TOTALES</h2>
        </div>
      </div>
      <!-- <div class="section">
        <app-question-item
          *ngIf="!item?.notifications?.length"
          style="cursor: pointer"
          (click)="redirectTo('admin/notification-creator/' + item._id)"
          headline="AUTOMATIZA UN MENSAJE"
          [headlineContainerStyles]="{
            justifyContent: 'flex-start',
            borderBottom: 'none'
          }"
          [headlineTitleStyles]="{
            marginLeft: '10px'
          }"
          [headlineRightTextStyles]="{
            color: '#2874AD',
            fontFamily: 'SfProBold',
            fontSize: '29px',
            marginLeft: 'auto'
          }"
          [headlineLeftIcon]="{
            icon: 'https://storage-rewardcharly.sfo2.digitaloceanspaces.com/new-assets/whatsapp_verde.svg',
            width: 30,
            height: 30
          }"
          [headlineRightText]="{
            text: '+',
            color: 'darkblue',
            fontSize: '29px',
            fontFamily: 'Roboto'
          }"
          [tagListTextStyles]="{
            marginRight: '5px'
          }"
          [tagListStyles]="{
            marginTop: '15px'
          }"
          [chipMode]="2"
          [shadow]="'0px 5px 5px lightgrey, 0px -0.5px 3px lightgrey'"
        ></app-question-item>
      </div>
      <ng-container
        *ngIf="item?.notifications?.length && notifications?.length"
      >
        <div class="section" *ngFor="let notification of notifications">
          <app-enlist-display
            [headline]="{
              icon: {
                src: '/whatsapp_verde.svg',
                width: 30,
                height: 30
              },
              text: {
                text: 'AUTOMATIZACION DE MENSAJE'
              }
            }"
            [iconText]="{
              icons: [
                {
                  src: '/pencil.svg',
                  width: 19,
                  height: 19,
                  color:
                    'brightness(0) saturate(100%) invert(37%) sepia(28%) saturate(1252%) hue-rotate(163deg) brightness(101%) contrast(91%)',
                  callback: redirectTo,
                  args:
                    'admin/notification-creator/' +
                    item._id +
                    '/' +
                    notification._id
                }
              ]
            }"
            [itemList]="[
              {
                name: {
                  text: notification.action?.toUpperCase(),
                  fontFamily: 'RobotoMedium',
                  color: '#7B7B7B',
                  fontSize: '13px'
                },
                subtitle: {
                  text: notification.message,
                  fontFamily: 'RobotoItalic',
                  fontSize: '17px',
                  color: '#000000'
                }
              }
            ]"
            [bottomText]="
              notification.date && {
                rightText: {
                  text: 'ULTIMO EL ' + notification.date,
                  fontSize: '13px',
                  fontFamily: 'RobotoMedium',
                  callback: goToNotificationsLog,
                  callbackArgs: [notification._id]
                }
              }
            "
            [showSubtitle]="true"
            [hideAble]="false"
          ></app-enlist-display>
        </div>
      </ng-container> -->
    </section>
  </div>

  <app-sticky-button
    [mode]="'double'"
    [extra]="{
      bgColor: '#2874AD',
      return: true
    }"
    [color]="'#FFF'"
    [fontSize]="'17px'"
    [bgColor]="'#A1A1A1'"
    [text]="' FACTURAR '"
    [customLeftButtonStyles]="{
      width: '85%',
      'max-width': 'none',
      'border-left': '1px solid #FFFFFF',
      'background-color': '#2874AD',
      color: '#FFFFFF'
    }"
    [customRightButtonStyles]="{
      width: '1px',
      heigth: '1px',
      'background-color': '#2874AD'
    }"
    [text2]="''"
    size="small"
    (added)="redirect()"
  ></app-sticky-button>
</div>

<!--    
    [text]="
      totalByItem &&
      totalByItem?.itemInOrder.toLocaleString('es-MX') + ' VENTAS'
    "
    [text2]="
      totalByItem && totalByItem?.total.toLocaleString('es-MX') + ' INGRESO'
    "
-->
