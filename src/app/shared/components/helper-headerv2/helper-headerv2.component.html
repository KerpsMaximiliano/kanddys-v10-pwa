<div class="external-wrapper">
    <div class="main" [style.background-color]="bgColor" [ngClass]="{'fixed': fixed}">

        <ng-container *ngIf="mode === 'basic'">
            <div class="top-bar">
                <div class="left-area">
                    <img [src]="env + config.icon" alt="" [ngStyle]="{'filter': filter? filter : 'none'}" *ngIf="config.icon && !config.return" class="icon"/>

                    <a *ngIf="config.return" (click)="return($event)"><i class="fas fa-chevron-left"
                      [style.color]="color ? color : '#FFFFFF'"></i></a>

                    <ng-container *ngIf="config.text">
                    <p class="return" [ngStyle]="
                    {
                      'font-size': config.fontSize? config.fontSize : '',
                      'font-family': config.fontFamily? config.fontFamily : '',
                      'color': color? color : ''
                    }" >{{config.text}}</p> </ng-container>
                </div>

                <div class="right-area">
                    <!-- ICONOS -->
                    <div *ngIf="config.whatsapp"><img [src]="env + '/whatsapp_blanco.svg'" height="21.58px" width="21.41px"
                            alt="" style="cursor: pointer; margin-right: 23px" [ngStyle]="{'filter': filter? filter : 'none'}">
                    </div>

                    <ng-container *ngIf="config.shopcart">
                        <app-cart-button [cartAmount]="cartAmount" [shopCartCallback]="shopCartCallback" [filter]="filter">
                        </app-cart-button>
                    </ng-container>

                    <img *ngIf="config.search" [src]="env + '/search.svg'" alt="Imagen de una lupa" (click)="searchTrigger($event)" height="20px" width="20px" class="search" 
                    [ngStyle]="{
                        'margin-right': rmargin? rmargin :'20px',
                        'margin-left': '20px',
                        cursor: 'pointer',
                        'filter': filter? filter : 'invert(100%) sepia(0%) saturate(7485%) hue-rotate(150deg) brightness(186%) contrast(101%)'
                    }"/>

                    <div class="dot-trio" *ngIf="config.dots" (click)="dotAction($event)" [ngStyle]="{'margin-right': rmargin? rmargin :'0'}">
                        <div class="dot"> </div>
                        <div class="dot"> </div>
                        <div class="dot"> </div>
                    </div>

                    <button class="edit-button" *ngIf="config.edit || config.batch" [ngStyle]="{'margin-right': rmargin ? rmargin :'20px'}">
                         <span *ngIf="config.batch">BATCH </span> EDIT
                    </button>

                    <button class="header-btn" *ngIf="config.plus" (click)="triggerEvent('plus')">
                        <span class="plus" [ngStyle]="
                        {
                        'font-family': config.plusFont? config.plusFont : '',
                        cursor: 'pointer',
                        'color': config.plusColor
                        }">+</span>
                    </button>

                    <div *ngIf="config.upload">
                        <img [src]="env + '/upload.svg'" style="margin-left: 23px;" height="19px" width="15px" alt="" style="cursor: pointer;" [ngStyle]="{'filter': filter? filter : 'none'}">
                    </div>
                </div>
            </div>
        </ng-container>


        <ng-container *ngIf="mode == 'double'">
            <div class="double-text">
                <span class="text bold-text" [ngStyle]="
                {
                  'font-size': config.fontSize? config.fontSize : '',
                  'font-family': config.leftFont? config.leftFont : (config.fontFamily? config.fontFamily : ''),
                  'color': color? color : '',
                  'cursor': config.pointer? 'pointer': ''
                }">{{config.leftText}}</span>

                <div *ngIf="line">
                    <hr class="linea" />
                </div>

                <span class="text bold-text" [ngStyle]="
                {
                  'font-size': config.fontSize? config.fontSize : '',
                  'font-family': config.rightFont? config.rightFont : (config.fontFamily? config.fontFamily : ''),
                  'color': color? color : '',
                  'cursor': config.pointer? 'pointer': ''
                }">{{config.rightText}}</span>

            </div>
        </ng-container>

        <ng-container *ngIf="mode == 'center'">
            <div class="double-text">
                <a *ngIf="config.return" (click)="return($event)" class="return-holder"><i class="fas fa-chevron-left"
                    [style.color]="color"></i>
                </a>
                <p class="light-text" [ngStyle]="
                {'font-size': config.fontSize? config.fontSize : '', 
                'font-family': config.fontFamily? config.fontFamily : '',
                'color': color? color : '',
                'cursor': config.pointer? 'pointer': ''
                }">{{config.text}}</p>
            </div>
        </ng-container>

        <ng-container *ngIf=" mode == 'options'">
            <div class="options">
                <a *ngIf="config.return" (click)="return($event)"><i class="fas fa-chevron-left"
                        [style.color]="color"></i></a>
                <div class="wrapper">
                    <span class="bold-text" *ngIf="config.itemId" [style.margin-left]="'6%'" >{{config.itemId}}</span>
                    <span class="bill bold-text" >{{config.billId}}</span>
                    <span class="bold-text" >{{config.leftText}}</span>
                    <span class="bold-text" >{{config.rightText}}</span>
                </div>
            </div>
        </ng-container>

        <ng-container *ngIf=" mode == '2raise'">
            <div class="raise">
                <ng-container *ngIf="config.inMall">
                    <span class="text">Mall</span>
                    <span class="text">Compras</span>
                </ng-container>
                <div class="mi-tienda"> <span class="text" [style.color]="bgColor">{{config.leftText}}</span></div>

                <div class="holder">
                    <img [src]="env + '/star.svg'" alt="Imagen de una estrella" class="star" [ngStyle]="{'filter': filter? filter : 'none'}">
                    <span for="List2raise">{{config.rightText}}</span>
                </div>
            </div>
        </ng-container>

        <ng-container *ngIf="mode === 'edit'" >
            <div class="edit" >
                <a *ngIf="config.return" (click)="return($event)" class="return-holder"><i class="fas fa-chevron-left"
                    [style.color]="color"></i>
                </a>
                <div class="itf">
                    <img *ngIf="config.icon" [src]="env + config.icon" alt="Aqui hay una imagen muy bonita, una pena que no podamos mostrarla caritatriste" class="icon" 
                    [ngStyle]="{'filter': filter? filter : 'none'}">
                    
                    <h1 class="bold-text" [ngStyle]="{
                        'font-size': config.fontSize? config.fontSize : '',
                        'font-family': config.fontFamily? config.fontFamily : '',
                        'color': color? color : ''
                        }">{{config.text}}</h1>
                </div>

                <button class="edit-button" *ngIf="config.edit || config.batch"> <span *ngIf="config.batch">BATCH </span> EDIT</button>

                <div *ngIf="config.plus"><span class="plus"
                    [ngStyle]="
                    {
                      'font-family': config.plusFont? config.plusFont : '',
                      'font-size': config.plusSize? config.plusSize : '',
                      'color': config.plusColor,
                      cursor: 'pointer'
                    }"
                    >+</span></div>
            </div>
        </ng-container>

    </div>
</div>