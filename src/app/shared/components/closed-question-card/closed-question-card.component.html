<div class="container" id="{{ id }}">
  <app-card [shadows]="shadows" [containerStyles]="containerStyles">
    <p class="title" [ngStyle]="labelStyles">{{ question }}</p>

    <ng-container *ngIf="!multiple">
      <div class="imgGrid">
        <ng-container *ngFor="let answer of answers; let i = index">
          <div *ngIf="answer.isMedia" [id]="id + '-' + i" class="radio">
            <img
              [src]="answer.img"
              (error)="answer.img = '/assets/images/noimage.png'"
              class="radioImg"
            />
            <div
              class="radioButton"
              (click)="selectOpt(i, 'GRID', answer.img)"
              [ngClass]="{ active: i === selectedImage }"
            >
              <img class="icon" [src]="env + '/check-black.svg'" />
            </div>
          </div>
        </ng-container>
      </div>

      <app-answer-selector
        style="text-align: left"
        [activeOption]="selected"
        [options]="options"
        [indicator]="true"
        [containerStyles]="{
          margin: '0px',
          marginTop: '17px'
        }"
        [itemStyles]="{
          fontSize: '17px',
          padding: '7px 0px'
        }"
        [boldenWhenSelected]="true"
        [optionContainerStyles]="{
          marginBottom: '0px'
        }"
        [alternativeBackground]="'narrow'"
        (onSelector)="selectOpt($event, 'OPTIONS-LIST', null)"
      ></app-answer-selector>
    </ng-container>

    <ng-container *ngIf="multiple">
      <div class="imgGrid">
        <ng-container *ngIf="!alternateImageSelectionCriteria">
          <ng-container *ngFor="let answer of answers; let i = index">
            <div *ngIf="answer.isMedia" [id]="id + '-' + i" class="radio">
              <img
                [src]="answer.img"
                (error)="answer.img = '/assets/images/noimage.png'"
                class="radioImg"
              />
              <div
                class="radioButton"
                (click)="selectOptMultipleFromGrid(i)"
                [ngClass]="{ active: selectedImagesIndexes.includes(i) }"
              >
                <img class="icon" [src]="env + '/check-black.svg'" />
              </div>
            </div>
          </ng-container>
        </ng-container>

        <ng-container *ngIf="alternateImageSelectionCriteria">
          <ng-container *ngFor="let answer of answersWithMedia; let i = index">
            <div *ngIf="answer.isMedia" [id]="id + '-' + i" class="radio">
              <img
                [src]="answer.img"
                (error)="answer.img = '/assets/images/noimage.png'"
                class="radioImg"
              />
              <div
                class="radioButton"
                (click)="selectOptMultipleFromGrid(i)"
                [ngClass]="{ active: selectedImagesIndexes.includes(i) }"
              >
                <img class="icon" [src]="env + '/check-black.svg'" />
              </div>
            </div>
          </ng-container>
        </ng-container>
      </div>

      <app-answer-selector
        style="text-align: left"
        [isMultipleOption]="true"
        [options]="options"
        [activeMultipleOption]="selectedIndexes"
        [indicator]="true"
        [containerStyles]="{
          margin: '0px',
          marginTop: '17px'
        }"
        [itemStyles]="{
          fontSize: '17px',
          padding: '7px 0px'
        }"
        [boldenWhenSelected]="true"
        [optionContainerStyles]="{
          marginBottom: '0px'
        }"
        [alternativeBackground]="'narrow'"
        (activeMultipleOptionValue)="selectOptMultipleFromList($event)"
      ></app-answer-selector>
    </ng-container>

    <ng-container
      *ngIf="questionType === 'multiple-text' && userProvidedAnswerSelected"
    >
      <textarea
        class="another-response"
        [formControl]="userProvidedAnswer"
        placeholder="Escribe..."
      ></textarea>
    </ng-container>
  </app-card>
</div>
